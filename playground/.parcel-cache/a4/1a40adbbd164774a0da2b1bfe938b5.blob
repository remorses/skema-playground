var $bd02fb5458269ba7c246d0b24a88054$exports = {};
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "react");
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "@blueprintjs/core");
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "hybrid-components");
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "skema-form");
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "../generated");
$parcel$require("3bd02fb5458269ba7c246d0b24a88054", "../store");

function $bd02fb5458269ba7c246d0b24a88054$var$_slicedToArray(arr, i) { return $bd02fb5458269ba7c246d0b24a88054$var$_arrayWithHoles(arr) || $bd02fb5458269ba7c246d0b24a88054$var$_iterableToArrayLimit(arr, i) || $bd02fb5458269ba7c246d0b24a88054$var$_nonIterableRest(); }

function $bd02fb5458269ba7c246d0b24a88054$var$_nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function $bd02fb5458269ba7c246d0b24a88054$var$_iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function $bd02fb5458269ba7c246d0b24a88054$var$_arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function $bd02fb5458269ba7c246d0b24a88054$var$_objectDestructuringEmpty(obj) { if (obj == null) throw new TypeError("Cannot destructure undefined"); }

var $bd02fb5458269ba7c246d0b24a88054$export$default = function (_ref) {
  $bd02fb5458269ba7c246d0b24a88054$var$_objectDestructuringEmpty(_ref);

  var _useGetLanguagesQuery = $bd02fb5458269ba7c246d0b24a88054$import$useGetLanguagesQuery(),
      data = _useGetLanguagesQuery.data,
      loading = _useGetLanguagesQuery.loading,
      error = _useGetLanguagesQuery.error;

  if (loading) {
    return $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$React.Fragment, null, "loading");
  }

  return $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$var$View, {
    data: data
  });
};

$bd02fb5458269ba7c246d0b24a88054$exports.default = $bd02fb5458269ba7c246d0b24a88054$export$default;

var $bd02fb5458269ba7c246d0b24a88054$var$View = function View(_ref2) {
  var data = _ref2.data;
  var langs = data.languages.map(function (_ref3) {
    var name = _ref3.name;
    return name;
  });

  var _useGetOutputCodeMuta = $bd02fb5458269ba7c246d0b24a88054$import$useGetOutputCodeMutation(),
      _useGetOutputCodeMuta2 = $bd02fb5458269ba7c246d0b24a88054$var$_slicedToArray(_useGetOutputCodeMuta, 2),
      getOutput = _useGetOutputCodeMuta2[0],
      outData = _useGetOutputCodeMuta2[1].data;

  $bd02fb5458269ba7c246d0b24a88054$import$useEffect(function () {
    actions.setOutputLanguage(langs[0]);
  }, []);

  var _useGlobal = $bd02fb5458269ba7c246d0b24a88054$import$useGlobal(),
      _useGlobal2 = $bd02fb5458269ba7c246d0b24a88054$var$_slicedToArray(_useGlobal, 2),
      _useGlobal2$ = _useGlobal2[0],
      settings = _useGlobal2$.settings,
      showSettings = _useGlobal2$.showSettings,
      skemaCode = _useGlobal2$.skemaEditor.code,
      actions = _useGlobal2[1];

  var language = settings.language;
  var schema = language ? data.languages.find(function (_ref4) {
    var name = _ref4.name;
    return name === language;
  }).optionsSchema : {};
  var style = {
    display: showSettings ? 'block' : 'none',
    position: 'absolute',
    right: 0,
    top: 0
  };
  return $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$Box, {
    width: "300px",
    style: style // border='1px solid red'
    // borderRadius='10px'
    // background='#fff'
    // minHeight='200px'
    // m='40px'
    // mt='0px'
    // boxShadow='0 0 15px rgba(0, 0, 0, .2)'
    // p='20px'

  }, $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$Card, {
    elevation: 3
  }, $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$FormGroup, {
    label: "Language to putput code"
  }, $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$HTMLSelect, {
    fill: true,
    value: language,
    onChange: function onChange(e) {
      return actions.setOutputLanguage(e.target.value);
    },
    options: langs.map(function (value) {
      return {
        value: value
      };
    })
  })), $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$SchemaForm, {
    onChange: function onChange(_ref5) {
      var values = _ref5.values;
      return actions.setOptions(values);
    },
    schema: schema,
    skipValidation: true
  }), $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$FormGroup, null, $bd02fb5458269ba7c246d0b24a88054$import$React.createElement($bd02fb5458269ba7c246d0b24a88054$import$Button, {
    fill: true,
    disabled: !settings.language,
    onClick: function onClick() {
      actions.setOutputCode(getOutput({
        variables: {
          skema: skemaCode,
          options: settings.options,
          language: settings.language
        }
      }).then(function (_ref6) {
        var data = _ref6.data;
        return data.output.code + '\n\n\n\n';
      }));
    },
    intent: "primary"
  }, "Convert"))));
};