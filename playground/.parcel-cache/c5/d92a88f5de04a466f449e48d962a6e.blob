var $debf8f3a597cdebd30378c7d7e092202$exports = {};
$parcel$require("debf8f3a597cdebd30378c7d7e092202", "object-assign");

var $debf8f3a597cdebd30378c7d7e092202$export$merge = function merge(a, b) {
  var result = $debf8f3a597cdebd30378c7d7e092202$import$assign({}, a, b);

  for (var key in a) {
    var _assign;

    if (!a[key] || typeof b[key] !== 'object') continue;
    $debf8f3a597cdebd30378c7d7e092202$import$assign(result, (_assign = {}, _assign[key] = $debf8f3a597cdebd30378c7d7e092202$import$assign(a[key], b[key]), _assign));
  }

  return result;
}; // sort object-value responsive styles


$debf8f3a597cdebd30378c7d7e092202$exports.merge = $debf8f3a597cdebd30378c7d7e092202$export$merge;

var $debf8f3a597cdebd30378c7d7e092202$var$sort = function sort(obj) {
  var next = {};
  Object.keys(obj).sort(function (a, b) {
    return a.localeCompare(b, undefined, {
      numeric: true,
      sensitivity: 'base'
    });
  }).forEach(function (key) {
    next[key] = obj[key];
  });
  return next;
};

var $debf8f3a597cdebd30378c7d7e092202$var$defaults = {
  breakpoints: [40, 52, 64].map(function (n) {
    return n + 'em';
  })
};

var $debf8f3a597cdebd30378c7d7e092202$var$createMediaQuery = function createMediaQuery(n) {
  return "@media screen and (min-width: " + n + ")";
};

var $debf8f3a597cdebd30378c7d7e092202$var$getValue = function getValue(n, scale) {
  return $debf8f3a597cdebd30378c7d7e092202$export$get(scale, n, n);
};

var $debf8f3a597cdebd30378c7d7e092202$export$get = function get(obj, key, def, p, undef) {
  key = key && key.split ? key.split('.') : [key];

  for (p = 0; p < key.length; p++) {
    obj = obj ? obj[key[p]] : undef;
  }

  return obj === undef ? def : obj;
};

$debf8f3a597cdebd30378c7d7e092202$exports.get = $debf8f3a597cdebd30378c7d7e092202$export$get;

var $debf8f3a597cdebd30378c7d7e092202$export$createParser = function createParser(config) {
  var cache = {};

  var parse = function parse(props) {
    var styles = {};
    var shouldSort = false;
    var isCacheDisabled = props.theme && props.theme.disableStyledSystemCache;

    for (var key in props) {
      if (!config[key]) continue;
      var sx = config[key];
      var raw = props[key];
      var scale = $debf8f3a597cdebd30378c7d7e092202$export$get(props.theme, sx.scale, sx.defaults);

      if (typeof raw === 'object') {
        cache.breakpoints = !isCacheDisabled && cache.breakpoints || $debf8f3a597cdebd30378c7d7e092202$export$get(props.theme, 'breakpoints', $debf8f3a597cdebd30378c7d7e092202$var$defaults.breakpoints);

        if (Array.isArray(raw)) {
          cache.media = !isCacheDisabled && cache.media || [null].concat(cache.breakpoints.map($debf8f3a597cdebd30378c7d7e092202$var$createMediaQuery));
          styles = $debf8f3a597cdebd30378c7d7e092202$export$merge(styles, $debf8f3a597cdebd30378c7d7e092202$var$parseResponsiveStyle(cache.media, sx, scale, raw, props));
          continue;
        }

        if (raw !== null) {
          styles = $debf8f3a597cdebd30378c7d7e092202$export$merge(styles, $debf8f3a597cdebd30378c7d7e092202$var$parseResponsiveObject(cache.breakpoints, sx, scale, raw, props));
          shouldSort = true;
        }

        continue;
      }

      $debf8f3a597cdebd30378c7d7e092202$import$assign(styles, sx(raw, scale, props));
    } // sort object-based responsive styles


    if (shouldSort) {
      styles = $debf8f3a597cdebd30378c7d7e092202$var$sort(styles);
    }

    return styles;
  };

  parse.config = config;
  parse.propNames = Object.keys(config);
  parse.cache = cache;
  var keys = Object.keys(config).filter(function (k) {
    return k !== 'config';
  });

  if (keys.length > 1) {
    keys.forEach(function (key) {
      var _createParser;

      parse[key] = createParser((_createParser = {}, _createParser[key] = config[key], _createParser));
    });
  }

  return parse;
};

$debf8f3a597cdebd30378c7d7e092202$exports.createParser = $debf8f3a597cdebd30378c7d7e092202$export$createParser;

var $debf8f3a597cdebd30378c7d7e092202$var$parseResponsiveStyle = function parseResponsiveStyle(mediaQueries, sx, scale, raw, _props) {
  var styles = {};
  raw.slice(0, mediaQueries.length).forEach(function (value, i) {
    var media = mediaQueries[i];
    var style = sx(value, scale, _props);

    if (!media) {
      $debf8f3a597cdebd30378c7d7e092202$import$assign(styles, style);
    } else {
      var _assign2;

      $debf8f3a597cdebd30378c7d7e092202$import$assign(styles, (_assign2 = {}, _assign2[media] = $debf8f3a597cdebd30378c7d7e092202$import$assign({}, styles[media], style), _assign2));
    }
  });
  return styles;
};

var $debf8f3a597cdebd30378c7d7e092202$var$parseResponsiveObject = function parseResponsiveObject(breakpoints, sx, scale, raw, _props) {
  var styles = {};

  for (var key in raw) {
    var breakpoint = breakpoints[key];
    var value = raw[key];
    var style = sx(value, scale, _props);

    if (!breakpoint) {
      $debf8f3a597cdebd30378c7d7e092202$import$assign(styles, style);
    } else {
      var _assign3;

      var media = $debf8f3a597cdebd30378c7d7e092202$var$createMediaQuery(breakpoint);
      $debf8f3a597cdebd30378c7d7e092202$import$assign(styles, (_assign3 = {}, _assign3[media] = $debf8f3a597cdebd30378c7d7e092202$import$assign({}, styles[media], style), _assign3));
    }
  }

  return styles;
};

var $debf8f3a597cdebd30378c7d7e092202$export$createStyleFunction = function createStyleFunction(_ref) {
  var properties = _ref.properties,
      property = _ref.property,
      scale = _ref.scale,
      _ref$transform = _ref.transform,
      transform = _ref$transform === void 0 ? $debf8f3a597cdebd30378c7d7e092202$var$getValue : _ref$transform,
      defaultScale = _ref.defaultScale;
  properties = properties || [property];

  var sx = function sx(value, scale, _props) {
    var result = {};
    var n = transform(value, scale, _props);
    if (n === null) return;
    properties.forEach(function (prop) {
      result[prop] = n;
    });
    return result;
  };

  sx.scale = scale;
  sx.defaults = defaultScale;
  return sx;
}; // new v5 API


$debf8f3a597cdebd30378c7d7e092202$exports.createStyleFunction = $debf8f3a597cdebd30378c7d7e092202$export$createStyleFunction;

var $debf8f3a597cdebd30378c7d7e092202$export$system = function system(args) {
  if (args === void 0) {
    args = {};
  }

  var config = {};
  Object.keys(args).forEach(function (key) {
    var conf = args[key];

    if (conf === true) {
      // shortcut definition
      config[key] = $debf8f3a597cdebd30378c7d7e092202$export$createStyleFunction({
        property: key,
        scale: key
      });
      return;
    }

    if (typeof conf === 'function') {
      config[key] = conf;
      return;
    }

    config[key] = $debf8f3a597cdebd30378c7d7e092202$export$createStyleFunction(conf);
  });
  var parser = $debf8f3a597cdebd30378c7d7e092202$export$createParser(config);
  return parser;
};

$debf8f3a597cdebd30378c7d7e092202$exports.system = $debf8f3a597cdebd30378c7d7e092202$export$system;

var $debf8f3a597cdebd30378c7d7e092202$export$compose = function compose() {
  var config = {};

  for (var _len = arguments.length, parsers = new Array(_len), _key = 0; _key < _len; _key++) {
    parsers[_key] = arguments[_key];
  }

  parsers.forEach(function (parser) {
    if (!parser || !parser.config) return;
    $debf8f3a597cdebd30378c7d7e092202$import$assign(config, parser.config);
  });
  var parser = $debf8f3a597cdebd30378c7d7e092202$export$createParser(config);
  return parser;
};

$debf8f3a597cdebd30378c7d7e092202$exports.compose = $debf8f3a597cdebd30378c7d7e092202$export$compose;