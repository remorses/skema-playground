var $c33e26d9adb606ec5e7b3d4533ee3cab$exports = {};
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "tslib");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "react");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "react-dom");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "../../common/classes");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "../../common/errors");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "../../common/props");
$parcel$require("c33e26d9adb606ec5e7b3d4533ee3cab", "../../common/utils");

/** Detect if `React.createPortal()` API method does not exist. */
var $c33e26d9adb606ec5e7b3d4533ee3cab$var$cannotCreatePortal = !$c33e26d9adb606ec5e7b3d4533ee3cab$import$isFunction($c33e26d9adb606ec5e7b3d4533ee3cab$import$ReactDOM.createPortal);
var $c33e26d9adb606ec5e7b3d4533ee3cab$var$REACT_CONTEXT_TYPES = {
  blueprintPortalClassName: function (obj, key) {
    if (obj[key] != null && typeof obj[key] !== "string") {
      return new Error($c33e26d9adb606ec5e7b3d4533ee3cab$import$Errors.PORTAL_CONTEXT_CLASS_NAME_STRING);
    }

    return undefined;
  }
};
/**
 * This component detaches its contents and re-attaches them to document.body.
 * Use it when you need to circumvent DOM z-stacking (for dialogs, popovers, etc.).
 * Any class names passed to this element will be propagated to the new container element on document.body.
 */

var $c33e26d9adb606ec5e7b3d4533ee3cab$export$Portal =
/** @class */
function (_super) {
  $c33e26d9adb606ec5e7b3d4533ee3cab$import$tslib_1.__extends(Portal, _super);

  function Portal() {
    var _this = _super !== null && _super.apply(this, arguments) || this;

    _this.state = {
      hasMounted: false
    };
    return _this;
  }

  Portal.prototype.render = function () {
    // Only render `children` once this component has mounted in a browser environment, so they are
    // immediately attached to the DOM tree and can do DOM things like measuring or `autoFocus`.
    // See long comment on componentDidMount in https://reactjs.org/docs/portals.html#event-bubbling-through-portals
    if ($c33e26d9adb606ec5e7b3d4533ee3cab$var$cannotCreatePortal || typeof document === "undefined" || !this.state.hasMounted) {
      return null;
    } else {
      return $c33e26d9adb606ec5e7b3d4533ee3cab$import$ReactDOM.createPortal(this.props.children, this.portalElement);
    }
  };

  Portal.prototype.componentDidMount = function () {
    if (!this.props.container) {
      return;
    }

    this.portalElement = this.createContainerElement();
    this.props.container.appendChild(this.portalElement);
    this.setState({
      hasMounted: true
    }, this.props.onChildrenMount);

    if ($c33e26d9adb606ec5e7b3d4533ee3cab$var$cannotCreatePortal) {
      this.unstableRenderNoPortal();
    }
  };

  Portal.prototype.componentDidUpdate = function (prevProps) {
    // update className prop on portal DOM element
    if (this.portalElement != null && prevProps.className !== this.props.className) {
      this.portalElement.classList.remove(prevProps.className);
      $c33e26d9adb606ec5e7b3d4533ee3cab$var$maybeAddClass(this.portalElement.classList, this.props.className);
    }

    if ($c33e26d9adb606ec5e7b3d4533ee3cab$var$cannotCreatePortal) {
      this.unstableRenderNoPortal();
    }
  };

  Portal.prototype.componentWillUnmount = function () {
    if (this.portalElement != null) {
      if ($c33e26d9adb606ec5e7b3d4533ee3cab$var$cannotCreatePortal) {
        $c33e26d9adb606ec5e7b3d4533ee3cab$import$ReactDOM.unmountComponentAtNode(this.portalElement);
      }

      this.portalElement.remove();
    }
  };

  Portal.prototype.createContainerElement = function () {
    var container = document.createElement("div");
    container.classList.add($c33e26d9adb606ec5e7b3d4533ee3cab$import$Classes.PORTAL);
    $c33e26d9adb606ec5e7b3d4533ee3cab$var$maybeAddClass(container.classList, this.props.className);

    if (this.context != null) {
      $c33e26d9adb606ec5e7b3d4533ee3cab$var$maybeAddClass(container.classList, this.context.blueprintPortalClassName);
    }

    return container;
  };

  Portal.prototype.unstableRenderNoPortal = function () {
    $c33e26d9adb606ec5e7b3d4533ee3cab$import$ReactDOM.unstable_renderSubtreeIntoContainer(
    /* parentComponent */
    this, $c33e26d9adb606ec5e7b3d4533ee3cab$import$React.createElement("div", null, this.props.children), this.portalElement);
  };

  Portal.displayName = $c33e26d9adb606ec5e7b3d4533ee3cab$import$DISPLAYNAME_PREFIX + ".Portal";
  Portal.contextTypes = $c33e26d9adb606ec5e7b3d4533ee3cab$var$REACT_CONTEXT_TYPES;
  Portal.defaultProps = {
    container: typeof document !== "undefined" ? document.body : null
  };
  return Portal;
}($c33e26d9adb606ec5e7b3d4533ee3cab$import$React.Component);

$c33e26d9adb606ec5e7b3d4533ee3cab$exports.Portal = $c33e26d9adb606ec5e7b3d4533ee3cab$export$Portal;

function $c33e26d9adb606ec5e7b3d4533ee3cab$var$maybeAddClass(classList, className) {
  if (className != null && className !== "") {
    classList.add.apply(classList, className.split(" "));
  }
} //# sourceMappingURL=portal.js.map