var $d9bd09640d5436f9382701bc87dc$exports = {};
Object.defineProperty($d9bd09640d5436f9382701bc87dc$exports, "__esModule", {
  value: true
});
var $d9bd09640d5436f9382701bc87dc$export$printLocation = $d9bd09640d5436f9382701bc87dc$var$printLocation;
$d9bd09640d5436f9382701bc87dc$exports.printLocation = $d9bd09640d5436f9382701bc87dc$export$printLocation;
var $d9bd09640d5436f9382701bc87dc$export$printSourceLocation = $d9bd09640d5436f9382701bc87dc$var$printSourceLocation;
$d9bd09640d5436f9382701bc87dc$exports.printSourceLocation = $d9bd09640d5436f9382701bc87dc$export$printSourceLocation;
var $d9bd09640d5436f9382701bc87dc$var$_location = $parcel$require("4467d9bd09640d5436f9382701bc87dc", "../language/location");
/**
 * Render a helpful description of the location in the GraphQL Source document.
 */

function $d9bd09640d5436f9382701bc87dc$var$printLocation(location) {
  return $d9bd09640d5436f9382701bc87dc$var$printSourceLocation(location.source, (0, $d9bd09640d5436f9382701bc87dc$var$_location.getLocation)(location.source, location.start));
}
/**
 * Render a helpful description of the location in the GraphQL Source document.
 */


function $d9bd09640d5436f9382701bc87dc$var$printSourceLocation(source, sourceLocation) {
  var firstLineColumnOffset = source.locationOffset.column - 1;
  var body = $d9bd09640d5436f9382701bc87dc$var$whitespace(firstLineColumnOffset) + source.body;
  var lineIndex = sourceLocation.line - 1;
  var lineOffset = source.locationOffset.line - 1;
  var lineNum = sourceLocation.line + lineOffset;
  var columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;
  var columnNum = sourceLocation.column + columnOffset;
  var locationStr = "".concat(source.name, ":").concat(lineNum, ":").concat(columnNum, "\n");
  var lines = body.split(/\r\n|[\n\r]/g);
  var locationLine = lines[lineIndex]; // Special case for minified documents

  if (locationLine.length > 120) {
    var sublineIndex = Math.floor(columnNum / 80);
    var sublineColumnNum = columnNum % 80;
    var sublines = [];

    for (var i = 0; i < locationLine.length; i += 80) {
      sublines.push(locationLine.slice(i, i + 80));
    }

    return locationStr + $d9bd09640d5436f9382701bc87dc$var$printPrefixedLines([["".concat(lineNum), sublines[0]]].concat(sublines.slice(1, sublineIndex + 1).map(function (subline) {
      return ['', subline];
    }), [[' ', $d9bd09640d5436f9382701bc87dc$var$whitespace(sublineColumnNum - 1) + '^'], ['', sublines[sublineIndex + 1]]]));
  }

  return locationStr + $d9bd09640d5436f9382701bc87dc$var$printPrefixedLines([// Lines specified like this: ["prefix", "string"],
  ["".concat(lineNum - 1), lines[lineIndex - 1]], ["".concat(lineNum), locationLine], ['', $d9bd09640d5436f9382701bc87dc$var$whitespace(columnNum - 1) + '^'], ["".concat(lineNum + 1), lines[lineIndex + 1]]]);
}

function $d9bd09640d5436f9382701bc87dc$var$printPrefixedLines(lines) {
  var existingLines = lines.filter(function (_ref) {
    var _ = _ref[0],
        line = _ref[1];
    return line !== undefined;
  });
  var padLen = Math.max.apply(Math, existingLines.map(function (_ref2) {
    var prefix = _ref2[0];
    return prefix.length;
  }));
  return existingLines.map(function (_ref3) {
    var prefix = _ref3[0],
        line = _ref3[1];
    return $d9bd09640d5436f9382701bc87dc$var$lpad(padLen, prefix) + (line ? ' | ' + line : ' |');
  }).join('\n');
}

function $d9bd09640d5436f9382701bc87dc$var$whitespace(len) {
  return Array(len + 1).join(' ');
}

function $d9bd09640d5436f9382701bc87dc$var$lpad(len, str) {
  return $d9bd09640d5436f9382701bc87dc$var$whitespace(len - str.length) + str;
}